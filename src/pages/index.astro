---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import { menuData } from "../data/menu.js";
import DrinkCard from "../components/DrinkCard.astro";
import Footer from "../components/Footer.astro";
---

<Layout
  title="Menú Digital - El Bar Secreto"
  description="Descubre nuestra selección de cócteles, vinos y cervezas artesanales."
>
  <main
    class="min-h-screen transition-colors duration-300 bg-[var(--background-color)]"
  >
    <Header />

    <div class="container px-4 py-12 mx-auto">
      <div class="space-y-16">
        {
          menuData.map((category) => (
            <section class="group">
              {/* Título de categoría con subrayado animado */}
              <h2 class="relative mb-12 text-4xl font-black tracking-tight text-center md:text-5xl font-heading text-foreground">
                {category.category}
                <span class="absolute bottom-0 w-0 h-1 transition-all duration-500 transform -translate-x-1/2 rounded-full left-1/2 bg-secondary-500 group-hover:w-24" />
              </h2>

              {/* Grid de tarjetas con animación progresiva */}
              <div class="grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
                {category.items.map((item, index) => (
                  <DrinkCard
                    key={item.name}
                    title={item.name}
                    description={item.description}
                    price={item.price}
                    image={item.image}
                    data-index={index}
                    class="animate-fade-in-up"
                  />
                ))}
              </div>
            </section>
          ))
        }
      </div>
    </div>
    <Footer />
  </main>
</Layout>

<style>
  /* Animación fade-in-up para las tarjetas */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in-up {
    animation: fadeInUp 0.6s ease-out forwards;
    opacity: 0;
  }

  /* Delay progresivo para efecto en cascada */
  [data-index="0"] {
    animation-delay: 0.1s;
  }
  [data-index="1"] {
    animation-delay: 0.2s;
  }
  [data-index="2"] {
    animation-delay: 0.3s;
  }
  [data-index="3"] {
    animation-delay: 0.4s;
  }
  [data-index="4"] {
    animation-delay: 0.5s;
  }
  [data-index="5"] {
    animation-delay: 0.6s;
  }
  [data-index="6"] {
    animation-delay: 0.7s;
  }
  [data-index="7"] {
    animation-delay: 0.8s;
  }
  [data-index="8"] {
    animation-delay: 0.9s;
  }
  [data-index="9"] {
    animation-delay: 1s;
  }
  [data-index="10"] {
    animation-delay: 1.1s;
  }
  [data-index="11"] {
    animation-delay: 1.2s;
  }
</style>

---
import { Image } from "astro:assets";
// 1. Importa 'ComponentProps' desde 'astro/types'
import type { ComponentProps } from "astro/types";

// 2. Define las props que son exclusivas de TU componente
interface CustomProps {
  price: string | number;
  description: string;
}

// 3. Crea el tipo final combinando los tipos de <Image> y los tuyos
type Props = ComponentProps<typeof Image> & CustomProps;

// 4. Separa las props personalizadas del resto (que son para la imagen)
const { price, description, ...imageProps } = Astro.props;
const title = imageProps.alt; // Reutilizamos el 'alt' de la imagen como t√≠tulo
---

<div
  class="overflow-hidden transition-shadow duration-300 border border-gray-200 rounded-lg shadow-sm hover:shadow-lg group"
>
  <div class="relative w-full h-64">
    {/* Pasa todas las props de la imagen directamente */}
    <Image
      {...imageProps}
      class="object-cover w-full h-full transition-transform duration-300 group-hover:scale-105"
    />
  </div>

  <div class="p-4">
    <h3 class="text-lg font-semibold text-amber-600 truncate">
      {title}
    </h3>
    <p class="text-sm text-gray-300 mt-1">{description}</p>
    <p class="mt-2 text-xl font-bold text-amber-400">
      {price}
    </p>
  </div>
</div>
